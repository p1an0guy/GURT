{
  "type": "object",
  "additionalProperties": false,
  "required": ["courseId", "filename", "contentType"],
  "properties": {
    "courseId": {
      "type": "string",
      "minLength": 1,
      "pattern": "^[A-Za-z0-9._-]+$"
    },
    "filename": {
      "type": "string",
      "minLength": 1,
      "pattern": "^[^/\\\\]+$"
    },
    "contentType": {
      "type": "string",
      "enum": [
        "application/pdf",
        "text/plain",
        "application/vnd.openxmlformats-officedocument.presentationml.presentation",
        "application/vnd.openxmlformats-officedocument.wordprocessingml.document",
        "application/msword"
      ]
    },
    "contentLengthBytes": {
      "type": "integer",
      "minimum": 1
    }
  },
  "allOf": [
    {
      "if": {
        "required": ["contentType"],
        "properties": {
          "contentType": {
            "const": "application/pdf"
          }
        }
      },
      "then": {
        "properties": {
          "filename": {
            "pattern": "^[^/\\\\]+\\.[Pp][Dd][Ff]$"
          }
        }
      }
    },
    {
      "if": {
        "required": ["contentType"],
        "properties": {
          "contentType": {
            "const": "application/vnd.openxmlformats-officedocument.presentationml.presentation"
          }
        }
      },
      "then": {
        "required": ["contentLengthBytes"],
        "properties": {
          "filename": {
            "pattern": "^[^/\\\\]+\\.[Pp][Pp][Tt][Xx]$"
          },
          "contentLengthBytes": {
            "maximum": 52428800
          }
        }
      }
    },
    {
      "if": {
        "required": ["contentType"],
        "properties": {
          "contentType": {
            "const": "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
          }
        }
      },
      "then": {
        "required": ["contentLengthBytes"],
        "properties": {
          "filename": {
            "pattern": "^[^/\\\\]+\\.[Dd][Oo][Cc][Xx]$"
          },
          "contentLengthBytes": {
            "maximum": 52428800
          }
        }
      }
    },
    {
      "if": {
        "required": ["contentType"],
        "properties": {
          "contentType": {
            "const": "application/msword"
          }
        }
      },
      "then": {
        "required": ["contentLengthBytes"],
        "properties": {
          "filename": {
            "pattern": "^[^/\\\\]+\\.[Dd][Oo][Cc]$"
          },
          "contentLengthBytes": {
            "maximum": 52428800
          }
        }
      }
    }
  ]
}
